library(dplyr)
library(ggplot2)
all_states.df <- read.csv("~/COVID-Notebooks/data/2019-Annual.csv")
all_states<- unique(all_states.df$State.Name) %>% sort()
# Sort data frame by states
all_states.df<- all_states.df %>%
arrange(factor(all_states.df$State.Name, levels = all_states))
# America's Health Ranking (data source) defined health outcome as the interaction betweenthe 4 asepcts: behaviors, commuinty & environment, policy, and clinical care
# Separate data into the 5 categories mentioned above
behaviors<- c("Drug Deaths", "Excessive Drinking", "High School Graduation", "Obesity", "Physical Inactivity", "Smoking")
behaviors.df <- filter(all_states.df, grepl(paste(behaviors, collapse="|"), Measure.Name))
commmunity_env<- c("Air Pollution", "Children in Poverty", "Infectious Disease", "Chlamydia", "Pertussis", "Salmonella", "Occupational Fatalities", "Violent Crime")
commmunity_env.df <- filter(all_states.df, grepl(paste(commmunity_env, collapse="|"), Measure.Name))
policy<- c("Immunizations - Adolescents", "HPV Immunization Females", "HPV Immunization Males", "Meningococcal Immunization", "Tdap Immunization", "Immunizations - Children", "Public Health Funding", "Uninsured")
policy.df <- filter(all_states.df, grepl(paste(policy, collapse="|"), Measure.Name))
clinical_care<- c("Dentists", "Low Birthweight", "Mental Health Providers", "Preventable Hospitalizations", "Primary Care Physicians")
clinical_care.df <- filter(all_states.df, grepl(paste(clinical_care, collapse="|"), Measure.Name))
outcomes<- c("Cancer Deaths", "Cardiovascular Deaths", "Diabetes", "Disparity in Health Stat", "Frequent Mental Distress", "Frequent Physical Distress", "Infant Mortality", "Premature Death")
outcomes.df <- filter(all_states.df, grepl(paste(outcomes, collapse="|"), Measure.Name))
covid_today.df<- read.csv("~/COVID-Notebooks/data/csv/covid_data_states.csv")
covid_today.df<- covid_today.df %>% filter(!grepl('Recovered', NAME))
names(covid_today.df)[1] <- "State.Name"
# nys_fatality<- read.csv("~/COVID-Notebooks/data/NYS_fatality.csv")
View(covid_today.df)
# Behaviors (excluding drug death) vs COVID death
age<- c("Ages 18-44", "Ages 45-64", "Ages 65+")
# Filter out only the data that contain information with age, remove "Drug Death" because it is catergorize with different age groups
behaviors_age<- behaviors.df %>%
filter(grepl(paste(age, collapse="|"), Measure.Name)) %>%
filter(!grepl('Drug Death', Measure.Name)) %>%
mutate(Age_Group = 0)
# Insert a new column to catergories data by age
for (i in 1:nrow(behaviors_age)){
if (grepl("18-44", as.character(behaviors_age$Measure.Name[i]), fixed=TRUE) == TRUE){
behaviors_age$Age_Group[i] = "18-44"
} else if (grepl("45-64", as.character(behaviors_age$Measure.Name[i]), fixed=TRUE) == TRUE){
behaviors_age$Age_Group[i] = "45-64"
} else{
behaviors_age$Age_Group[i] = "65+"
}
}
# Rename the items in column "Measure.Name" without the age information
behaviors_age$Measure.Name<- gsub("-.*","",behaviors_age$Measure.Name)
# Add information about each state's covid19 death
behaviors_age<- merge(behaviors_age, covid_today.df[c('State.Name','covid19_deaths')], by='State.Name', all.x=TRUE) %>%
# Pick out the information we are interested in
select(State.Name, Measure.Name, Value, Age_Group, covid19_deaths)
View(behaviors_age)
View(covid_today.df)
covid_today.df<- read.csv("~/COVID-Notebooks/data/csv/covid_data_states.csv")
covid_today.df<- covid_today.df %>% filter(!grepl('Recovered', NAME))
names(covid_today.df)[1] <- "State.Name"
# nys_fatality<- read.csv("~/COVID-Notebooks/data/NYS_fatality.csv")
# Behaviors (excluding drug death) vs COVID death
age<- c("Ages 18-44", "Ages 45-64", "Ages 65+")
# Filter out only the data that contain information with age, remove "Drug Death" because it is catergorize with different age groups
behaviors_age<- behaviors.df %>%
filter(grepl(paste(age, collapse="|"), Measure.Name)) %>%
filter(!grepl('Drug Death', Measure.Name)) %>%
mutate(Age_Group = 0)
# Insert a new column to catergories data by age
for (i in 1:nrow(behaviors_age)){
if (grepl("18-44", as.character(behaviors_age$Measure.Name[i]), fixed=TRUE) == TRUE){
behaviors_age$Age_Group[i] = "18-44"
} else if (grepl("45-64", as.character(behaviors_age$Measure.Name[i]), fixed=TRUE) == TRUE){
behaviors_age$Age_Group[i] = "45-64"
} else{
behaviors_age$Age_Group[i] = "65+"
}
}
# Rename the items in column "Measure.Name" without the age information
behaviors_age$Measure.Name<- gsub("-.*","",behaviors_age$Measure.Name)
# Add information about each state's covid19 death
behaviors_age<- merge(behaviors_age, covid_today.df[c('State.Name','covid19_deaths')], by='State.Name', all.x=TRUE) %>%
# Pick out the information we are interested in
select(State.Name, Measure.Name, Value, Age_Group, covid19_deaths)
covid_today.df<- read.csv("~/COVID-Notebooks/data/csv/covid_data_states.csv")
covid_today.df<- covid_today.df %>% filter(!grepl('Recovered', NAME))
names(covid_today.df)[1] <- "State.Name"
# nys_fatality<- read.csv("~/COVID-Notebooks/data/NYS_fatality.csv")
all_states.df <- read.csv("~/COVID-Notebooks/data/2019-Annual.csv")
all_states<- unique(all_states.df$State.Name) %>% sort()
# Sort data frame by states
all_states.df<- all_states.df %>%
arrange(factor(all_states.df$State.Name, levels = all_states))
# America's Health Ranking (data source) defined health outcome as the interaction betweenthe 4 asepcts: behaviors, commuinty & environment, policy, and clinical care
# Separate data into the 5 categories mentioned above
behaviors<- c("Drug Deaths", "Excessive Drinking", "High School Graduation", "Obesity", "Physical Inactivity", "Smoking")
behaviors.df <- filter(all_states.df, grepl(paste(behaviors, collapse="|"), Measure.Name))
commmunity_env<- c("Air Pollution", "Children in Poverty", "Infectious Disease", "Chlamydia", "Pertussis", "Salmonella", "Occupational Fatalities", "Violent Crime")
commmunity_env.df <- filter(all_states.df, grepl(paste(commmunity_env, collapse="|"), Measure.Name))
policy<- c("Immunizations - Adolescents", "HPV Immunization Females", "HPV Immunization Males", "Meningococcal Immunization", "Tdap Immunization", "Immunizations - Children", "Public Health Funding", "Uninsured")
policy.df <- filter(all_states.df, grepl(paste(policy, collapse="|"), Measure.Name))
clinical_care<- c("Dentists", "Low Birthweight", "Mental Health Providers", "Preventable Hospitalizations", "Primary Care Physicians")
clinical_care.df <- filter(all_states.df, grepl(paste(clinical_care, collapse="|"), Measure.Name))
outcomes<- c("Cancer Deaths", "Cardiovascular Deaths", "Diabetes", "Disparity in Health Stat", "Frequent Mental Distress", "Frequent Physical Distress", "Infant Mortality", "Premature Death")
outcomes.df <- filter(all_states.df, grepl(paste(outcomes, collapse="|"), Measure.Name))
View(covid_today.df)
covid_today.df<- read.csv("~/COVID-Notebooks/data/csv/covid_data_states.csv")
View(covid_today.df)
library(dplyr)
library(ggplot2)
all_states.df <- read.csv("~/COVID-Notebooks/data/2019-Annual.csv")
all_states<- unique(all_states.df$State.Name) %>% sort()
# Sort data frame by states
all_states.df<- all_states.df %>%
arrange(factor(all_states.df$State.Name, levels = all_states))
# America's Health Ranking (data source) defined health outcome as the interaction betweenthe 4 asepcts: behaviors, commuinty & environment, policy, and clinical care
# Separate data into the 5 categories mentioned above
behaviors<- c("Drug Deaths", "Excessive Drinking", "High School Graduation", "Obesity", "Physical Inactivity", "Smoking")
behaviors.df <- filter(all_states.df, grepl(paste(behaviors, collapse="|"), Measure.Name))
commmunity_env<- c("Air Pollution", "Children in Poverty", "Infectious Disease", "Chlamydia", "Pertussis", "Salmonella", "Occupational Fatalities", "Violent Crime")
commmunity_env.df <- filter(all_states.df, grepl(paste(commmunity_env, collapse="|"), Measure.Name))
policy<- c("Immunizations - Adolescents", "HPV Immunization Females", "HPV Immunization Males", "Meningococcal Immunization", "Tdap Immunization", "Immunizations - Children", "Public Health Funding", "Uninsured")
policy.df <- filter(all_states.df, grepl(paste(policy, collapse="|"), Measure.Name))
clinical_care<- c("Dentists", "Low Birthweight", "Mental Health Providers", "Preventable Hospitalizations", "Primary Care Physicians")
clinical_care.df <- filter(all_states.df, grepl(paste(clinical_care, collapse="|"), Measure.Name))
outcomes<- c("Cancer Deaths", "Cardiovascular Deaths", "Diabetes", "Disparity in Health Stat", "Frequent Mental Distress", "Frequent Physical Distress", "Infant Mortality", "Premature Death")
outcomes.df <- filter(all_states.df, grepl(paste(outcomes, collapse="|"), Measure.Name))
covid_today.df<- read.csv("~/COVID-Notebooks/data/csv/covid_data_states.csv")
covid_today.df<- covid_today.df %>% filter(!grepl('Recovered', NAME))
names(covid_today.df)[1] <- "State.Name"
# nys_fatality<- read.csv("~/COVID-Notebooks/data/NYS_fatality.csv")
# Behaviors (excluding drug death) vs COVID death
age<- c("Ages 18-44", "Ages 45-64", "Ages 65+")
# Filter out only the data that contain information with age, remove "Drug Death" because it is catergorize with different age groups
behaviors_age<- behaviors.df %>%
filter(grepl(paste(age, collapse="|"), Measure.Name)) %>%
filter(!grepl('Drug Death', Measure.Name)) %>%
mutate(Age_Group = 0)
# Insert a new column to catergories data by age
for (i in 1:nrow(behaviors_age)){
if (grepl("18-44", as.character(behaviors_age$Measure.Name[i]), fixed=TRUE) == TRUE){
behaviors_age$Age_Group[i] = "18-44"
} else if (grepl("45-64", as.character(behaviors_age$Measure.Name[i]), fixed=TRUE) == TRUE){
behaviors_age$Age_Group[i] = "45-64"
} else{
behaviors_age$Age_Group[i] = "65+"
}
}
# Rename the items in column "Measure.Name" without the age information
behaviors_age$Measure.Name<- gsub("-.*","",behaviors_age$Measure.Name)
# Add information about each state's covid19 death
behaviors_age<- merge(behaviors_age, covid_today.df[c('State.Name','covid19_deaths')], by='State.Name', all.x=TRUE) %>%
# Pick out the information we are interested in
select(State.Name, Measure.Name, Value, Age_Group, covid19_deaths)
View(covid_today.df)
View(behaviors_age)
ggplot(data=behaviors_age, + aes(x=State.Name, y=covid19_deaths, size=Value)) + geom_point(alpha=0.5, col='blue')
ggplot(data=behaviors_age, + aes(x=State.Name, y=covid19_deaths)) + geom_point(alpha=0.5, col='blue')
ggplot(data=behaviors_age, aes(x=State.Name, y=covid19_deaths)) +
geom_point(alpha=0.5, col='blue')
ggplot(data=behaviors_age, aes(x=State.Name, y=covid19_deaths)) +
geom_point(alpha=0.5, col='blue') +
facet_grid(Measure.Name ~ Age_Group)
ggplot(data=behaviors_age, aes(x=State.Name, y=covid19_deaths, size= Value)) +
geom_point(alpha=0.5, col='blue') +
facet_grid(Measure.Name ~ Age_Group)
ggplot(data=behaviors_age, aes(x=State.Name, y=covid19_deaths, size= Value)) +
geom_point(alpha=0.5) +
facet_grid(Measure.Name ~ Age_Group)
ggplot(data=behaviors_age, aes(x=State.Name, y=covid19_deaths, size= Value)) +
geom_point(alpha=0.5, col=c("red","blue","yellow","green")) +
facet_grid(Measure.Name ~ Age_Group)
ggplot(data=behaviors_age, aes(x=State.Name, y=covid19_deaths, size= Value)) +
geom_point(alpha=0.5, colour=c("red","blue","yellow","green")) +
facet_grid(Measure.Name ~ Age_Group)
ggplot(data=behaviors_age, aes(x=State.Name, y=covid19_deaths, size= Value)) +
geom_point(alpha=0.5, colour=blue) +
facet_grid(Measure.Name ~ Age_Group)
ggplot(data=behaviors_age, aes(x=State.Name, y=covid19_deaths, size= Value)) +
geom_point(alpha=0.5, col=blue) +
facet_grid(Measure.Name ~ Age_Group)
ggplot(data=behaviors_age, aes(x=State.Name, y=covid19_deaths, size= Value)) +
geom_point(alpha=0.5, col="blue") +
facet_grid(Measure.Name ~ Age_Group)
install.packages("zoom")
library(zoom)
behavior_plot<- ggplot(data=behaviors_age, aes(x=State.Name, y=covid19_deaths, size= Value)) +
geom_point(alpha=0.5, col="blue") +
facet_grid(Measure.Name ~ Age_Group)
zm(behavior_plot)
behavior_plot<- ggplot(data=behaviors_age, aes(x=State.Name, y=covid19_deaths, size= Value)) +
geom_point(alpha=0.5, col="blue") +
facet_grid(Measure.Name ~ Age_Group)
library(plotly)
install.packages("plotly")
library(plotly)
behavior_plot<- ggplot(data=behaviors_age, aes(x=Value, y=covid19_deaths, size= Value)) +
geom_point(alpha=0.5, col="blue") +
facet_grid(Measure.Name ~ Age_Group)
behavior_plot
ggplotly(behavior_plot)
behavior_plot<- ggplot(data=behaviors_age, aes(x=Value, y=covid19_deaths, size= Value)) +
geom_point(alpha=0.5, col=State.Name) +
facet_grid(Measure.Name ~ Age_Group)
behavior_plot<- ggplot(data=behaviors_age, aes(x=Value, y=covid19_deaths, size= Value, color=State.Name)) +
geom_point(alpha=0.5) +
facet_grid(Measure.Name ~ Age_Group)
ggplotly(behavior_plot)
View(behaviors.df)
# Compare each state's score(value) against US's score(value)
US_behavior<- behaviors_age[behaviors_age$State.Name == "United States", ]
View(US_behavior)
behaviors_age<- behaviors_age[behaviors_age$State.Name != "United States", ]
View(behaviors_age)
US_behavior<- cbind(US_behavior, i = rep(1:51, each = nrow(US_behavior)))
US_behavior<- cbind(US_behavior, rep(1:51, each = nrow(US_behavior)))
US_behavior<- cbind(US_behavior, i = rep(1:51, each = nrow(US_behavior)))
# Compare each state's score(value) against US's score(value)
US_behavior<- behaviors_age[behaviors_age$State.Name == "United States", ]
View(US_behavior)
# Compare each state's score(value) against US's score(value)
US_behavior<- behaviors_age[behaviors_age$State.Name == "United States", ]
library(dplyr)
library(ggplot2)
library(plotly)
all_states.df <- read.csv("~/COVID-Notebooks/data/2019-Annual.csv")
all_states<- unique(all_states.df$State.Name) %>% sort()
# Sort data frame by states
all_states.df<- all_states.df %>%
arrange(factor(all_states.df$State.Name, levels = all_states))
# America's Health Ranking (data source) defined health outcome as the interaction betweenthe 4 asepcts: behaviors, commuinty & environment, policy, and clinical care
# Separate data into the 5 categories mentioned above
behaviors<- c("Drug Deaths", "Excessive Drinking", "High School Graduation", "Obesity", "Physical Inactivity", "Smoking")
behaviors.df <- filter(all_states.df, grepl(paste(behaviors, collapse="|"), Measure.Name))
commmunity_env<- c("Air Pollution", "Children in Poverty", "Infectious Disease", "Chlamydia", "Pertussis", "Salmonella", "Occupational Fatalities", "Violent Crime")
commmunity_env.df <- filter(all_states.df, grepl(paste(commmunity_env, collapse="|"), Measure.Name))
policy<- c("Immunizations - Adolescents", "HPV Immunization Females", "HPV Immunization Males", "Meningococcal Immunization", "Tdap Immunization", "Immunizations - Children", "Public Health Funding", "Uninsured")
policy.df <- filter(all_states.df, grepl(paste(policy, collapse="|"), Measure.Name))
clinical_care<- c("Dentists", "Low Birthweight", "Mental Health Providers", "Preventable Hospitalizations", "Primary Care Physicians")
clinical_care.df <- filter(all_states.df, grepl(paste(clinical_care, collapse="|"), Measure.Name))
outcomes<- c("Cancer Deaths", "Cardiovascular Deaths", "Diabetes", "Disparity in Health Stat", "Frequent Mental Distress", "Frequent Physical Distress", "Infant Mortality", "Premature Death")
outcomes.df <- filter(all_states.df, grepl(paste(outcomes, collapse="|"), Measure.Name))
covid_today.df<- read.csv("~/COVID-Notebooks/data/csv/covid_data_states.csv")
covid_today.df<- covid_today.df %>% filter(!grepl('Recovered', NAME))
names(covid_today.df)[1] <- "State.Name"
# nys_fatality<- read.csv("~/COVID-Notebooks/data/NYS_fatality.csv")
# Behaviors (excluding drug death) vs COVID death
age<- c("Ages 18-44", "Ages 45-64", "Ages 65+")
# Filter out only the data that contain information with age, remove "Drug Death" because it is catergorize with different age groups
behaviors_age<- behaviors.df %>%
filter(grepl(paste(age, collapse="|"), Measure.Name)) %>%
filter(!grepl('Drug Death', Measure.Name)) %>%
mutate(Age_Group = 0)
# Insert a new column to catergories data by age
for (i in 1:nrow(behaviors_age)){
if (grepl("18-44", as.character(behaviors_age$Measure.Name[i]), fixed=TRUE) == TRUE){
behaviors_age$Age_Group[i] = "18-44"
} else if (grepl("45-64", as.character(behaviors_age$Measure.Name[i]), fixed=TRUE) == TRUE){
behaviors_age$Age_Group[i] = "45-64"
} else{
behaviors_age$Age_Group[i] = "65+"
}
}
# Rename the items in column "Measure.Name" without the age information
behaviors_age$Measure.Name<- gsub("-.*","",behaviors_age$Measure.Name)
# Add information about each state's covid19 death
behaviors_age<- merge(behaviors_age, covid_today.df[c('State.Name','covid19_deaths')], by='State.Name', all.x=TRUE) %>%
# Pick out the information we are interested in
select(State.Name, Measure.Name, Value, Age_Group, covid19_deaths)
# Compare each state's score(value) against US's score(value)
US_behavior<- behaviors_age[behaviors_age$State.Name == "United States", ]
behaviors_age<- behaviors_age[behaviors_age$State.Name != "United States", ]
US_behavior<- cbind(US_behavior, i = rep(1:51, each = nrow(US_behavior)))
# Compute percentage of each state's covid death to ?
View(US_behavior)
US_behavior$i<- NULL
behaviors_age<- cbind(behaviors_age$State.Name,round(behaviors_age$Value/US_behavior$Value,2))
View(behaviors_age)
all_states.df <- read.csv("~/COVID-Notebooks/data/2019-Annual.csv")
all_states<- unique(all_states.df$State.Name) %>% sort()
# Sort data frame by states
all_states.df<- all_states.df %>%
arrange(factor(all_states.df$State.Name, levels = all_states))
# America's Health Ranking (data source) defined health outcome as the interaction betweenthe 4 asepcts: behaviors, commuinty & environment, policy, and clinical care
# Separate data into the 5 categories mentioned above
behaviors<- c("Drug Deaths", "Excessive Drinking", "High School Graduation", "Obesity", "Physical Inactivity", "Smoking")
behaviors.df <- filter(all_states.df, grepl(paste(behaviors, collapse="|"), Measure.Name))
commmunity_env<- c("Air Pollution", "Children in Poverty", "Infectious Disease", "Chlamydia", "Pertussis", "Salmonella", "Occupational Fatalities", "Violent Crime")
commmunity_env.df <- filter(all_states.df, grepl(paste(commmunity_env, collapse="|"), Measure.Name))
policy<- c("Immunizations - Adolescents", "HPV Immunization Females", "HPV Immunization Males", "Meningococcal Immunization", "Tdap Immunization", "Immunizations - Children", "Public Health Funding", "Uninsured")
policy.df <- filter(all_states.df, grepl(paste(policy, collapse="|"), Measure.Name))
clinical_care<- c("Dentists", "Low Birthweight", "Mental Health Providers", "Preventable Hospitalizations", "Primary Care Physicians")
clinical_care.df <- filter(all_states.df, grepl(paste(clinical_care, collapse="|"), Measure.Name))
outcomes<- c("Cancer Deaths", "Cardiovascular Deaths", "Diabetes", "Disparity in Health Stat", "Frequent Mental Distress", "Frequent Physical Distress", "Infant Mortality", "Premature Death")
outcomes.df <- filter(all_states.df, grepl(paste(outcomes, collapse="|"), Measure.Name))
covid_today.df<- read.csv("~/COVID-Notebooks/data/csv/covid_data_states.csv")
covid_today.df<- covid_today.df %>% filter(!grepl('Recovered', NAME))
names(covid_today.df)[1] <- "State.Name"
# nys_fatality<- read.csv("~/COVID-Notebooks/data/NYS_fatality.csv")
# Behaviors (excluding drug death) vs COVID death
age<- c("Ages 18-44", "Ages 45-64", "Ages 65+")
# Filter out only the data that contain information with age, remove "Drug Death" because it is catergorize with different age groups
behaviors_age<- behaviors.df %>%
filter(grepl(paste(age, collapse="|"), Measure.Name)) %>%
filter(!grepl('Drug Death', Measure.Name)) %>%
mutate(Age_Group = 0)
# Insert a new column to catergories data by age
for (i in 1:nrow(behaviors_age)){
if (grepl("18-44", as.character(behaviors_age$Measure.Name[i]), fixed=TRUE) == TRUE){
behaviors_age$Age_Group[i] = "18-44"
} else if (grepl("45-64", as.character(behaviors_age$Measure.Name[i]), fixed=TRUE) == TRUE){
behaviors_age$Age_Group[i] = "45-64"
} else{
behaviors_age$Age_Group[i] = "65+"
}
}
# Rename the items in column "Measure.Name" without the age information
behaviors_age$Measure.Name<- gsub("-.*","",behaviors_age$Measure.Name)
# Add information about each state's covid19 death
behaviors_age<- merge(behaviors_age, covid_today.df[c('State.Name','covid19_deaths')], by='State.Name', all.x=TRUE) %>%
# Pick out the information we are interested in
select(State.Name, Measure.Name, Value, Age_Group, covid19_deaths)
# Compare each state's score(value) against US's score(value)
US_behavior<- behaviors_age[behaviors_age$State.Name == "United States", ]
behaviors_age<- behaviors_age[behaviors_age$State.Name != "United States", ]
US_behavior<- cbind(US_behavior, i = rep(1:51, each = nrow(US_behavior)))
US_behavior$i<- NULL
behaviors_age<- cbind(behaviors_age,ratio = round(behaviors_age$Value/US_behavior$Value,2))
# Compute percentage of each state's covid death to ?
View(behaviors_age)
behavior_plot<- ggplot(data=behaviors_age, aes(x=ratio, y=covid19_deaths, size= ratio, color=State.Name)) +
geom_point(alpha=0.5) +
facet_grid(Age_Group~ Measure.Name)
ggplotly(behavior_plot)
behavior_plot<- ggplot(data=behaviors_age, aes(x=ratio, y=covid19_deaths, size= ratio, color=State.Name)) +
geom_point(alpha=0.3) +
facet_grid(Age_Group~ Measure.Name)
ggplotly(behavior_plot)
behavior_plot<- ggplot(data=behaviors_age, aes(x=ratio, y=covid19_deaths, color=State.Name)) +
geom_point(alpha=0.3) +
facet_grid(Age_Group~ Measure.Name)
ggplotly(behavior_plot)
behavior_plot<- ggplot(data=behaviors_age, aes(x=ratio, y=covid19_deaths, color=State.Name)) +
geom_point(alpha=0.5) +
facet_grid(Age_Group~ Measure.Name)
ggplotly(behavior_plot)
m <- list(
l = 50,
r = 50,
b = 100,
t = 100,
pad = 4
)
fig <- plot_ly(x = seq(0, 8), y = seq(0, 8))
fig <- fig %>% layout(autosize = F, width = 500, height = 500, margin = m)
fig
m <- list(
l = 50,
r = 50,
b = 100,
t = 100,
pad = 4
)
fig <- plot_ly(x = seq(0, 8), y = seq(0, 8))
fig <- fig %>% layout(autosize = F, width = 1000, height = 5000, margin = m)
fig
View(behaviors_age)
View(behaviors.df)
death_count<- read.csv("~/COVID-Notebooks/data/csv/Provisional_COVID-19_Death_Counts_by_Sex__Age__and_State.csv")
View(m)
View(death_count)
# Calculate the number of covid death by state then categorize into 3 age group: 15-44, 45-64, 65+
# Ideally it should be 18-44, which is the age group used in the America Health Ranking data. But CDC separate the data in increment of 5
death_count<- read.csv("~/COVID-Notebooks/data/csv/Provisional_COVID-19_Death_Counts_by_Sex__Age__and_State.csv")
pick<- c("15-24 years", "25-34 years", "35-44 years", "45-54 years", "55-64 years", "65-74 years", "75-84 years", "85 years and over	")
death_count<- death_count %>%
filter(grepl(paste(pick, collapse="|"), Age.group))
View(death_count)
colnames(death_count)
# Calculate the number of covid death by state then categorize into 3 age group: 15-44, 45-64, 65+
# Ideally it should be 18-44, which is the age group used in the America Health Ranking data. But CDC separate the data in increment of 5
death_count<- read.csv("~/COVID-Notebooks/data/csv/Provisional_COVID-19_Death_Counts_by_Sex__Age__and_State.csv")
pick<- c("15-24 years", "25-34 years", "35-44 years", "45-54 years", "55-64 years", "65-74 years", "75-84 years", "85 years and over	")
death_count<- death_count %>%
filter(grepl(paste(pick, collapse="|"), Age.group)) %>%
select(State, Sex, Age.group, COVID.19.Deaths)
View(death_count)
