values = c(2),
guide = guide_legend(override.aes = list(color = c("black")))) +
NULL
NY_region_palette.df <- NY_counties_regions %>%
dplyr::select(Region,Color) %>%
dplyr::distinct(Region,Color)
NY_region_palette <- setNames(as.character(NY_region_palette.df$Color), as.character(NY_region_palette.df$Region))
covid_NY_TS_plot.cases %>%
group_by(Region, date) %>%
summarise(diff = sum(diff)) %>%
mutate(ma = c(numeric(2),rollmean(diff, 3, align = "center"))) %>%
filter(Region != "New York State") %>%
ggplot(aes(date,
ma,
color = Region)) +
scale_color_manual(values=NY_region_palette) +
geom_line(size = 1) +
scale_y_continuous(
trans = "log10",
breaks = c(10,100,500,1000,5000,10000, 50000)
) +
scale_x_datetime(date_breaks = "1 week", date_minor_breaks = "1 day", date_labels = "%b %d") +
ylab("Change in total cases") +
ggtitle("Deltas in total cases") +
geom_vline(aes(xintercept=as_datetime("2020-03-20"), linetype="Gov. Cuomo issues stay-at-home order"), color = "black") +
scale_linetype_manual(name = "Events",
values = c(2),
guide = guide_legend(override.aes = list(color = c("black")))) +
NULL
NY_region_palette.df <- NY_counties_regions %>%
dplyr::select(Region,Color) %>%
dplyr::distinct(Region,Color)
NY_region_palette <- setNames(as.character(NY_region_palette.df$Color), as.character(NY_region_palette.df$Region))
covid_NY_TS_plot.cases %>%
group_by(Region, date) %>%
summarise(diff = sum(diff)) %>%
mutate(ma = c(numeric(2),rollmean(diff, 3, align = "left"))) %>%
filter(Region != "New York State") %>%
ggplot(aes(date,
ma,
color = Region)) +
scale_color_manual(values=NY_region_palette) +
geom_line(size = 1) +
scale_y_continuous(
trans = "log10",
breaks = c(10,100,500,1000,5000,10000, 50000)
) +
scale_x_datetime(date_breaks = "1 week", date_minor_breaks = "1 day", date_labels = "%b %d") +
ylab("Change in total cases") +
ggtitle("Deltas in total cases") +
geom_vline(aes(xintercept=as_datetime("2020-03-20"), linetype="Gov. Cuomo issues stay-at-home order"), color = "black") +
scale_linetype_manual(name = "Events",
values = c(2),
guide = guide_legend(override.aes = list(color = c("black")))) +
NULL
NY_region_palette.df <- NY_counties_regions %>%
dplyr::select(Region,Color) %>%
dplyr::distinct(Region,Color)
NY_region_palette <- setNames(as.character(NY_region_palette.df$Color), as.character(NY_region_palette.df$Region))
covid_NY_TS_plot.cases %>%
group_by(Region, date) %>%
summarise(diff = sum(diff)) %>%
mutate(ma = c(numeric(2),rollmean(diff, 3, align = "right"))) %>%
filter(Region != "New York State") %>%
ggplot(aes(date,
ma,
color = Region)) +
scale_color_manual(values=NY_region_palette) +
geom_line(size = 1) +
scale_y_continuous(
trans = "log10",
breaks = c(10,100,500,1000,5000,10000, 50000)
) +
scale_x_datetime(date_breaks = "1 week", date_minor_breaks = "1 day", date_labels = "%b %d") +
ylab("Change in total cases") +
ggtitle("Deltas in total cases") +
geom_vline(aes(xintercept=as_datetime("2020-03-20"), linetype="Gov. Cuomo issues stay-at-home order"), color = "black") +
scale_linetype_manual(name = "Events",
values = c(2),
guide = guide_legend(override.aes = list(color = c("black")))) +
NULL
NY_region_palette.df <- NY_counties_regions %>%
dplyr::select(Region,Color) %>%
dplyr::distinct(Region,Color)
NY_region_palette <- setNames(as.character(NY_region_palette.df$Color), as.character(NY_region_palette.df$Region))
covid_NY_TS_plot.cases %>%
group_by(Region, date) %>%
summarise(diff = sum(diff)) %>%
mutate(ma = c(NA, NA,rollmean(diff, 3, align = "right"))) %>%
filter(Region != "New York State") %>%
ggplot(aes(date,
ma,
color = Region)) +
scale_color_manual(values=NY_region_palette) +
geom_line(size = 1) +
scale_y_continuous(
trans = "log10",
breaks = c(10,100,500,1000,5000,10000, 50000)
) +
scale_x_datetime(date_breaks = "1 week", date_minor_breaks = "1 day", date_labels = "%b %d") +
ylab("Change in total cases") +
ggtitle("Deltas in total cases") +
geom_vline(aes(xintercept=as_datetime("2020-03-20"), linetype="Gov. Cuomo issues stay-at-home order"), color = "black") +
scale_linetype_manual(name = "Events",
values = c(2),
guide = guide_legend(override.aes = list(color = c("black")))) +
NULL
NY_region_palette.df <- NY_counties_regions %>%
dplyr::select(Region,Color) %>%
dplyr::distinct(Region,Color)
NY_region_palette <- setNames(as.character(NY_region_palette.df$Color), as.character(NY_region_palette.df$Region))
covid_NY_TS_plot.cases %>%
group_by(Region, date) %>%
summarise(diff = sum(diff)) %>%
mutate(ma = c(NA, NA,rollmean(diff, 3, align = "right"))) %>%
#filter(Region != "New York State") %>%
ggplot(aes(date,
ma,
color = Region)) +
scale_color_manual(values=NY_region_palette) +
geom_line(size = 1) +
scale_y_continuous(
trans = "log10",
breaks = c(10,100,500,1000,5000,10000, 50000)
) +
scale_x_datetime(date_breaks = "1 week", date_minor_breaks = "1 day", date_labels = "%b %d") +
ylab("Change in total cases") +
ggtitle("Deltas in total cases") +
geom_vline(aes(xintercept=as_datetime("2020-03-20"), linetype="Gov. Cuomo issues stay-at-home order"), color = "black") +
scale_linetype_manual(name = "Events",
values = c(2),
guide = guide_legend(override.aes = list(color = c("black")))) +
NULL
covid_NY_TS_plot.cases %>%
group_by(Region, date) %>%
summarise(diff = sum(diff)) %>%
mutate(ma = c(NA, NA,rollmean(diff, 3, align = "right"))) %>%
View()
NY_region_palette.df <- NY_counties_regions %>%
dplyr::select(Region,Color) %>%
dplyr::distinct(Region,Color)
NY_region_palette <- setNames(as.character(NY_region_palette.df$Color), as.character(NY_region_palette.df$Region))
covid_NY_TS_plot.cases %>%
group_by(Region, date) %>%
summarise(p_diff = sum(p_diff)) %>%
mutate(ma = c(NA, NA,rollmean(p_diff, 3, align = "right"))) %>%
#filter(Region != "New York State") %>%
ggplot(aes(date,
ma,
color = Region)) +
scale_color_manual(values=NY_region_palette) +
geom_line(size = 1) +
scale_y_continuous(
trans = "log10",
breaks = c(10,100,500,1000,5000,10000, 50000)
) +
scale_x_datetime(date_breaks = "1 week", date_minor_breaks = "1 day", date_labels = "%b %d") +
ylab("Change in total cases") +
ggtitle("Deltas in total cases") +
geom_vline(aes(xintercept=as_datetime("2020-03-20"), linetype="Gov. Cuomo issues stay-at-home order"), color = "black") +
scale_linetype_manual(name = "Events",
values = c(2),
guide = guide_legend(override.aes = list(color = c("black")))) +
NULL
NY_region_palette.df <- NY_counties_regions %>%
dplyr::select(Region,Color) %>%
dplyr::distinct(Region,Color)
NY_region_palette <- setNames(as.character(NY_region_palette.df$Color), as.character(NY_region_palette.df$Region))
covid_NY_TS_plot.cases %>%
group_by(Region, date) %>%
summarise(p_diff = sum(p_diff)) %>%
mutate(ma = c(NA, NA,rollmean(p_diff, 3, align = "right"))) %>%
#filter(Region != "New York State") %>%
ggplot(aes(date,
ma,
color = Region)) +
scale_color_manual(values=NY_region_palette) +
geom_line(size = 1) +
scale_y_continuous(
trans = "log10",
breaks = c(10,100,500,1000,5000,10000, 50000)
) +
scale_x_datetime(date_breaks = "1 week", date_minor_breaks = "1 day", date_labels = "%b %d") +
ylab("Change in total cases per 100k") +
ggtitle("Deltas in total cases per 100k") +
geom_vline(aes(xintercept=as_datetime("2020-03-20"), linetype="Gov. Cuomo issues stay-at-home order"), color = "black") +
scale_linetype_manual(name = "Events",
values = c(2),
guide = guide_legend(override.aes = list(color = c("black")))) +
NULL
NY_region_palette.df <- NY_counties_regions %>%
dplyr::select(Region,Color) %>%
dplyr::distinct(Region,Color)
NY_region_palette <- setNames(as.character(NY_region_palette.df$Color), as.character(NY_region_palette.df$Region))
covid_NY_TS_plot.cases %>%
group_by(Region, date) %>%
summarise(diff = sum(diff)) %>%
mutate(ma = c(NA, NA,rollmean(diff, 3, align = "right"))) %>%
#filter(Region != "New York State") %>%
ggplot(aes(date,
ma,
color = Region)) +
scale_color_manual(values=NY_region_palette) +
geom_line(size = 1) +
scale_y_continuous(
trans = "log10",
breaks = c(10,100,500,1000,5000,10000, 50000)
) +
scale_x_datetime(date_breaks = "1 week", date_minor_breaks = "1 day", date_labels = "%b %d") +
ylab("New Cases") +
ggtitle("New reported COVID-19 Cases") +
geom_vline(aes(xintercept=as_datetime("2020-03-20"), linetype="Gov. Cuomo issues stay-at-home order"), color = "black") +
scale_linetype_manual(name = "Events",
values = c(2),
guide = guide_legend(override.aes = list(color = c("black")))) +
NULL
NY_region_palette.df <- NY_counties_regions %>%
dplyr::select(Region,Color) %>%
dplyr::distinct(Region,Color)
NY_region_palette <- setNames(as.character(NY_region_palette.df$Color), as.character(NY_region_palette.df$Region))
covid_NY_TS_plot.cases %>%
group_by(Region, date) %>%
summarise(p_diff = sum(p_diff)) %>%
mutate(ma = c(NA, NA,rollmean(p_diff, 3, align = "right"))) %>%
#filter(Region != "New York State") %>%
ggplot(aes(date,
ma,
color = Region)) +
scale_color_manual(values=NY_region_palette) +
geom_line(size = 1) +
scale_y_continuous(
trans = "log10",
breaks = c(10,100,500,1000,5000,10000, 50000)
) +
scale_x_datetime(date_breaks = "1 week", date_minor_breaks = "1 day", date_labels = "%b %d") +
ylab("New cases per 100k") +
ggtitle("Rate of new COVID cases per 100k") +
geom_vline(aes(xintercept=as_datetime("2020-03-20"), linetype="Gov. Cuomo issues stay-at-home order"), color = "black") +
scale_linetype_manual(name = "Events",
values = c(2),
guide = guide_legend(override.aes = list(color = c("black")))) +
NULL
NY_region_palette.df <- NY_counties_regions %>%
dplyr::select(Region,Color) %>%
dplyr::distinct(Region,Color)
NY_region_palette <- setNames(as.character(NY_region_palette.df$Color), as.character(NY_region_palette.df$Region))
covid_NY_TS_plot.cases %>%
summarise(p_diff = sum(p_diff)) %>%
mutate(ma = c(NA, NA,rollmean(p_diff, 3, align = "right"))) %>%
#filter(Region != "New York State") %>%
ggplot(aes(date,
ma,
color = Region,
group = County)) +
scale_color_manual(values=NY_region_palette) +
geom_line(size = 1) +
scale_y_continuous(
trans = "log10",
breaks = c(10,100,500,1000,5000,10000, 50000)
) +
scale_x_datetime(date_breaks = "1 week", date_minor_breaks = "1 day", date_labels = "%b %d") +
ylab("New cases per 100k") +
ggtitle("Rate of new COVID cases per 100k") +
geom_vline(aes(xintercept=as_datetime("2020-03-20"), linetype="Gov. Cuomo issues stay-at-home order"), color = "black") +
scale_linetype_manual(name = "Events",
values = c(2),
guide = guide_legend(override.aes = list(color = c("black")))) +
NULL
NY_region_palette.df <- NY_counties_regions %>%
dplyr::select(Region,Color) %>%
dplyr::distinct(Region,Color)
NY_region_palette <- setNames(as.character(NY_region_palette.df$Color), as.character(NY_region_palette.df$Region))
covid_NY_TS_plot.cases %>%
group_by(County) %>%
summarise(p_diff = sum(p_diff)) %>%
mutate(ma = c(NA, NA,rollmean(p_diff, 3, align = "right"))) %>%
#filter(Region != "New York State") %>%
ggplot(aes(date,
ma,
color = Region)) +
scale_color_manual(values=NY_region_palette) +
geom_line(size = 1) +
scale_y_continuous(
trans = "log10",
breaks = c(10,100,500,1000,5000,10000, 50000)
) +
scale_x_datetime(date_breaks = "1 week", date_minor_breaks = "1 day", date_labels = "%b %d") +
ylab("New cases per 100k") +
ggtitle("Rate of new COVID cases per 100k") +
geom_vline(aes(xintercept=as_datetime("2020-03-20"), linetype="Gov. Cuomo issues stay-at-home order"), color = "black") +
scale_linetype_manual(name = "Events",
values = c(2),
guide = guide_legend(override.aes = list(color = c("black")))) +
NULL
NY_region_palette.df <- NY_counties_regions %>%
dplyr::select(Region,Color) %>%
dplyr::distinct(Region,Color)
NY_region_palette <- setNames(as.character(NY_region_palette.df$Color), as.character(NY_region_palette.df$Region))
covid_NY_TS_plot.cases %>%
group_by(County) %>%
summarise(p_diff = sum(p_diff)) %>%
mutate(ma = c(NA, NA,rollmean(p_diff, 3, align = "right"))) %>%
#filter(Region != "New York State") %>%
ggplot(aes(date,
ma,
color = Region)) +
scale_color_manual(values=NY_region_palette) +
geom_line(size = 1) +
scale_y_continuous(
trans = "log10",
breaks = c(10,100,500,1000,5000,10000, 50000)
) +
scale_x_datetime(date_breaks = "1 week", date_minor_breaks = "1 day", date_labels = "%b %d") +
ylab("New cases per 100k") +
ggtitle("Rate of new COVID cases per 100k") +
geom_vline(aes(xintercept=as_datetime("2020-03-20"), linetype="Gov. Cuomo issues stay-at-home order"), color = "black") +
scale_linetype_manual(name = "Events",
values = c(2),
guide = guide_legend(override.aes = list(color = c("black")))) +
NULL
NY_region_palette.df <- NY_counties_regions %>%
dplyr::select(Region,Color) %>%
dplyr::distinct(Region,Color)
NY_region_palette <- setNames(as.character(NY_region_palette.df$Color), as.character(NY_region_palette.df$Region))
covid_NY_TS_plot.cases %>%
ungroup() %>%
group_by(County) %>%
summarise(p_diff = sum(p_diff)) %>%
mutate(ma = c(NA, NA,rollmean(p_diff, 3, align = "right"))) %>%
ggplot(aes(date,
ma,
color = Region)) +
scale_color_manual(values=NY_region_palette) +
geom_line(size = 1) +
scale_y_continuous(
trans = "log10",
breaks = c(10,100,500,1000,5000,10000, 50000)
) +
scale_x_datetime(date_breaks = "1 week", date_minor_breaks = "1 day", date_labels = "%b %d") +
ylab("New cases per 100k") +
ggtitle("Rate of new COVID cases per 100k") +
geom_vline(aes(xintercept=as_datetime("2020-03-20"), linetype="Gov. Cuomo issues stay-at-home order"), color = "black") +
scale_linetype_manual(name = "Events",
values = c(2),
guide = guide_legend(override.aes = list(color = c("black")))) +
NULL
NY_region_palette.df <- NY_counties_regions %>%
dplyr::select(Region,Color) %>%
dplyr::distinct(Region,Color)
NY_region_palette <- setNames(as.character(NY_region_palette.df$Color), as.character(NY_region_palette.df$Region))
covid_NY_TS_plot.cases %>%
group_by(County, Region) %>%
summarise(p_diff = sum(p_diff)) %>%
mutate(ma = c(NA, NA,rollmean(p_diff, 3, align = "right"))) %>%
ggplot(aes(date,
ma,
color = Region)) +
scale_color_manual(values=NY_region_palette) +
geom_line(size = 1) +
scale_y_continuous(
trans = "log10",
breaks = c(10,100,500,1000,5000,10000, 50000)
) +
scale_x_datetime(date_breaks = "1 week", date_minor_breaks = "1 day", date_labels = "%b %d") +
ylab("New cases per 100k") +
ggtitle("Rate of new COVID cases per 100k") +
geom_vline(aes(xintercept=as_datetime("2020-03-20"), linetype="Gov. Cuomo issues stay-at-home order"), color = "black") +
scale_linetype_manual(name = "Events",
values = c(2),
guide = guide_legend(override.aes = list(color = c("black")))) +
NULL
covid_NY_TS_plot.cases
covid_NY_TS_plot.cases %>%
group_by(County)
covid_NY_TS_plot.cases %>%
group_by(County) %>% View()
NY_region_palette.df <- NY_counties_regions %>%
dplyr::select(Region,Color) %>%
dplyr::distinct(Region,Color)
NY_region_palette <- setNames(as.character(NY_region_palette.df$Color), as.character(NY_region_palette.df$Region))
covid_NY_TS_plot.cases %>%
group_by(County) %>%
mutate(ma = c(NA, NA,rollmean(p_diff, 3, align = "right"))) %>%
ggplot(aes(date,
ma,
color = Region)) +
scale_color_manual(values=NY_region_palette) +
geom_line(size = 1) +
scale_y_continuous(
trans = "log10",
breaks = c(10,100,500,1000,5000,10000, 50000)
) +
scale_x_datetime(date_breaks = "1 week", date_minor_breaks = "1 day", date_labels = "%b %d") +
ylab("New cases per 100k") +
ggtitle("Rate of new COVID cases per 100k") +
geom_vline(aes(xintercept=as_datetime("2020-03-20"), linetype="Gov. Cuomo issues stay-at-home order"), color = "black") +
scale_linetype_manual(name = "Events",
values = c(2),
guide = guide_legend(override.aes = list(color = c("black")))) +
NULL
covid_NY_TS_plot.cases %>%
group_by(County) %>%
mutate(ma = c(NA, NA,rollmean(p_diff, 3, align = "right"))) %>% View()
covid_NY_TS_plot.cases %>%
group_by(County) %>%
mutate(ma = c(NA, NA,max(0,rollmean(p_diff, 3, align = "right")))) %>% View()
covid_NY_TS_plot.cases %>%
group_by(County) %>%
summarise(p_diff = sum(p_diff)) %>%
mutate(ma = c(NA, NA,rollmean(p_diff, 3, align = "right"))) %>%
NY_region_palette.df <- NY_counties_regions %>%
dplyr::select(Region,Color) %>%
dplyr::distinct(Region,Color)
NY_region_palette.df <- NY_counties_regions %>%
dplyr::select(Region,Color) %>%
dplyr::distinct(Region,Color)
NY_region_palette <- setNames(as.character(NY_region_palette.df$Color), as.character(NY_region_palette.df$Region))
covid_NY_TS_plot.cases %>%
group_by(County) %>%
summarise(p_diff = sum(p_diff)) %>%
mutate(ma = c(NA, NA,rollmean(p_diff, 3, align = "right"))) %>%
ggplot(aes(date,
ma,
color = Region)) +
scale_color_manual(values=NY_region_palette) +
geom_line(size = 1) +
scale_y_continuous(
trans = "log10",
breaks = c(10,100,500,1000,5000,10000, 50000)
) +
scale_x_datetime(date_breaks = "1 week", date_minor_breaks = "1 day", date_labels = "%b %d") +
ylab("New cases per 100k") +
ggtitle("Rate of new COVID cases per 100k") +
geom_vline(aes(xintercept=as_datetime("2020-03-20"), linetype="Gov. Cuomo issues stay-at-home order"), color = "black") +
scale_linetype_manual(name = "Events",
values = c(2),
guide = guide_legend(override.aes = list(color = c("black")))) +
NULL
NY_region_palette.df <- NY_counties_regions %>%
dplyr::select(Region,Color) %>%
dplyr::distinct(Region,Color)
NY_region_palette <- setNames(as.character(NY_region_palette.df$Color), as.character(NY_region_palette.df$Region))
covid_NY_TS_plot.cases %>%
group_by(County) %>%
mutate(ma = c(NA, NA,rollmean(p_diff, 3, align = "right"))) %>%
ggplot(aes(date,
ma,
color = Region)) +
scale_color_manual(values=NY_region_palette) +
geom_line(size = 1) +
scale_y_continuous(
trans = "log10",
breaks = c(10,100,500,1000,5000,10000, 50000)
) +
scale_x_datetime(date_breaks = "1 week", date_minor_breaks = "1 day", date_labels = "%b %d") +
ylab("New cases per 100k") +
ggtitle("Rate of new COVID cases per 100k") +
geom_vline(aes(xintercept=as_datetime("2020-03-20"), linetype="Gov. Cuomo issues stay-at-home order"), color = "black") +
scale_linetype_manual(name = "Events",
values = c(2),
guide = guide_legend(override.aes = list(color = c("black")))) +
NULL
NY_region_palette.df <- NY_counties_regions %>%
dplyr::select(Region,Color) %>%
dplyr::distinct(Region,Color)
NY_region_palette <- setNames(as.character(NY_region_palette.df$Color), as.character(NY_region_palette.df$Region))
covid_NY_TS_plot.cases %>%
group_by(County) %>%
mutate(p_diff = max(0, p_diff)) %>%
mutate(ma = c(NA, NA,rollmean(p_diff, 3, align = "right"))) %>%
ggplot(aes(date,
ma,
color = Region)) +
scale_color_manual(values=NY_region_palette) +
geom_line(size = 1) +
scale_y_continuous(
trans = "log10",
breaks = c(10,100,500,1000,5000,10000, 50000)
) +
scale_x_datetime(date_breaks = "1 week", date_minor_breaks = "1 day", date_labels = "%b %d") +
ylab("New cases per 100k") +
ggtitle("Rate of new COVID cases per 100k") +
geom_vline(aes(xintercept=as_datetime("2020-03-20"), linetype="Gov. Cuomo issues stay-at-home order"), color = "black") +
scale_linetype_manual(name = "Events",
values = c(2),
guide = guide_legend(override.aes = list(color = c("black")))) +
NULL
NY_region_palette.df <- NY_counties_regions %>%
dplyr::select(Region,Color) %>%
dplyr::distinct(Region,Color)
NY_region_palette <- setNames(as.character(NY_region_palette.df$Color), as.character(NY_region_palette.df$Region))
covid_NY_TS_plot.cases %>%
group_by(County) %>%
mutate(p_diff = max(0, p_diff)) %>%
mutate(ma = c(NA, NA, NA, NA, rollmean(p_diff, 5, align = "right"))) %>%
ggplot(aes(date,
ma,
color = Region)) +
scale_color_manual(values=NY_region_palette) +
geom_line(size = 1) +
scale_y_continuous(
trans = "log10",
breaks = c(10,100,500,1000,5000,10000, 50000)
) +
scale_x_datetime(date_breaks = "1 week", date_minor_breaks = "1 day", date_labels = "%b %d") +
ylab("New cases per 100k") +
ggtitle("Rate of new COVID cases per 100k") +
geom_vline(aes(xintercept=as_datetime("2020-03-20"), linetype="Gov. Cuomo issues stay-at-home order"), color = "black") +
scale_linetype_manual(name = "Events",
values = c(2),
guide = guide_legend(override.aes = list(color = c("black")))) +
NULL
